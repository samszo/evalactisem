<?xml version="1.0"?>
<?xml-stylesheet href="chrome://evalactisem/skin/iemlCycle.css" type="text/css"?>
<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
<?xul-overlay href="overlay/treeDicoIeml.xul"?>
<window flex="1" id="trad_flux" title="traduction Flux" xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" onload=" ">
    <script src="http://mundilogiweb.com/evalactisem/plugin/content/library/js/tree.js"/>
	<script src="http://mundilogiweb.com/evalactisem/plugin/content/library/js/Interface.js"/>
	<script src="http://mundilogiweb.com/evalactisem/plugin/content/library/js/ajax.js"/>
	<script type="text/javascript" > 
	    var login=window.opener.document.getElementById('lab_login').getAttribute('value');
		var Flux; var f;var k;
		var urlAjax = "http://mundilogiweb.com/evalactisem/plugin/content/";
		var urlSpreadsheet="http://spreadsheets.google.com/pub?key=" ;
		var Items;
		var type;
	</script>
    <commandset id="mainCommandSet">
       <command id="cmd_login_focus" oncommand="document.commandDispatcher.advanceFocus();"/>
	</commandset>
	<keyset id="mainKeyset">
	    <key id="focusLogin" keycode="VK_TAB"  command="cmd_login_focus" />
	</keyset> 
	<popupset id="popupset">
		<popup id="clipmenu" onpopupshowing="javascript:;">
			<menuitem label="Voir les primitives" oncommand="ParserIemlExp('|','Primitive');"/>
			<menuitem label="Voir les événements" oncommand="ParserIemlExp('|','Event');"/>
		</popup>
	</popupset>

	<hbox id="InOut" >
		<label id="uti_login" value=""/>
		<label value="logout" onclick="window.open('login.xul','',300,500) ;window.close(); " />
	</hbox>

	<vbox id='Maj' hidden='true' >
	   <label id='label_Maj' value='Patienter' style='font-style:normal;color: green'/>
	   <progressmeter id="progmeter" mode="undetermined"  />
   </vbox>

	<vbox id="main" flex="1">
		 <groupbox orient="horizontal" flex="1" >
			<caption  />
			<vbox id="infosTrad" flex="1" >
				<label id="trad-message" hidden="false" style="color:blue;" />
				<hbox flex="1" >
					<groupbox orient="horizontal" >
						<caption label="Tag delicious"/>
						<label id="id-trad-flux" hidden="true"/>
					    <stack style='height:150px;' flex='1'>
							<textbox id="code-trad-flux" style="color:red;font-size:150%" onkeyup="lancer(event);" autocomplete="off" />
							<listbox id="calque_tag" style='margin-top:50px;' hidden='true' onselect='getSelectItemRech("code-trad-flux");'></listbox>
					    </stack>
					    <label hidden="true" id="lib-trad-flux" style="color:red;font-size:150%" />
					</groupbox>
					<groupbox orient="horizontal" flex="1" >
							<caption label="Expression IEML"/>
						    <label id="id-trad-ieml" hidden="true"/>
							<stack style='height:150px;' flex='1'>
								<textbox id="lib-trad-ieml" multiline="true" style="color:red;font-size:150%;height:50px;border-top:0px" flex="1" onkeyup="lancer(event);" autocomplete="off"  />
								<listbox id="calque_lib" style='margin-top:50px;' hidden='true' onselect='getSelectItemRech("lib-trad-ieml","code-trad-ieml");'></listbox>
							</stack>
							<label style="color:red;font-size:150%" value=" *" />
							<stack  flex='1'>
								<textbox id="code-trad-ieml" multiline="true" style="color:red;font-size:150%;" flex="1" onkeyup="lancer(event);" autocomplete="off" />
								<listbox id="calque_code"  style='margin-top:50px;' hidden='true' onselect='getSelectItemRech("code-trad-ieml","lib-trad-ieml");' ></listbox>
							</stack>
							<label style="color:red;font-size:150%" value="** " />									
					</groupbox>
				</hbox>
				<hbox>
						<button hidden="false" label="Ajouter" tooltiptext="Ajouter une Traduction" oncommand="Sem_AddTrad();"/>	
						<button hidden="false" label="Supprimer" tooltiptext="Supprimer une Traduction" oncommand="Sem_SupTrad();"/>
						<button label="Mettre à jour le bookmark IEML" tooltiptext="Met à jour le bookmark collaboratif IEML" onclick="BookMark_AddPostIemlDelicious();"/>		
						<label id="trad-message" hidden="false" style="color:blue;font-size:150%" />
				</hbox>
			</vbox>
		</groupbox>
		
		<vbox flex="6" >
			<hbox flex="6">
				<vbox id="contDonnee" flex="1" hidden="true" >
					<tabbox flex="1" >
					    <tabs >
					        <tab label="Tags traduits" />
					        <tab label="Tags à traduire" />
					        <tab id="Tab_nom" label=" "  hidden="true" />
					    </tabs>
					    <tabpanels flex="1"  >
					        <tabpanel >
								<vbox flex="1" >
									<hbox hidden="true">												    
										<button label="Supprimer la traduction" oncommand="Sem_SupTrad();"/>
										<button label="Voir les primitives" oncommand="ParserIemlExp('|','Primitive')"/>	
										<button label="Voir les événements" oncommand="ParserIemlExp('|','Event');"/>
									</hbox>
									<box id="tpSingleTrad" flex="1" context="clipmenu" />
								</vbox >
					         </tabpanel>
					        <tabpanel>
					        	<vbox flex="1">
									<label hidden="true" style='color:blue;' value="1. Choisissez un tag" />
									<label hidden="true" style='color:blue;' value="2. Choisissez une expression IEML dans l'onglet 'Dictionnaire et Cycles'" />
									<hbox hidden="true" >
										<label  style='color:blue;' value="3. Cliquez ici" />
										<button label="Ajouter la traduction" oncommand="AddTrad();"/>	
									</hbox>
									<box id="tpNoTrad" flex="1" />
								</vbox>
					         </tabpanel>
					    </tabpanels>
					</tabbox>
				</vbox>
		        <splitter collapse="before" >
					<grippy/>
				</splitter>
				<vbox flex="1">
					<label id="keyGrid" hidden="true" />
					<tabbox flex="1" orient="horizontal" >
						<tabs orient="vertical" >
							<tab label="Dictionnaire" />
						</tabs>
						<tabpanels flex="1"  >
							<tabpanel >
								<vbox id="treeDicoIeml" flex="1"  />
							</tabpanel>
						</tabpanels>
					</tabbox>
				</vbox>			
			</hbox>
			<!--  
				
				<vbox flex="1" hidden="true">
					<tabbox id="tbIframe" flex="1" >
					    <tabs >
					        <tab label="Bookmark de <?php echo $_SESSION['loginSess']; ?>" />
					        <tab label="Bookmark IEML" />
					        <tab label="Boussole IEML" />
					        <tab id="tabStatIeml" label="Statistiques IEML" />
					    </tabs>
					    <tabpanels flex="1"  >
					        <tabpanel >
								<iframe flex="1" src="http://del.icio.us/<?php echo $_SESSION['loginSess']; ?>"  />
					         </tabpanel>
					        <tabpanel>
								<vbox flex="1" >
					    			<button label="Mettre � jour le bookmark IEML" tooltiptext="Met � jour le bookmark collaboratif IEML" onclick="BookMark_AddPostIemlDelicious();"/>
									<iframe flex="1" src="http://del.icio.us/ieml"  />
								</vbox >
					         </tabpanel>
					        <tabpanel>
								<vbox flex="1" >
									<label  style='color:blue;' value="Vous pouvez utiliser la boussole IEML pour filtrer les expressions des cycles" />
									<iframe id="ifBoussole" style="min-width: 150px;" flex="1"  src="library/svg/iemlBoussole.svg"  />
								</vbox>
					         </tabpanel>
					        <tabpanel>
					        		<box id="bIemlStat" flex="1">
										<iframe id="fIemlStat" flex="1"  src=""  />
									</box>
					         </tabpanel>
					    </tabpanels>
					</tabbox>
	-->
		</vbox>
 </vbox>
 <script type="text/javascript">
 	//récupération des flux
  GetFlux();

 </script>
 
 
</window>
